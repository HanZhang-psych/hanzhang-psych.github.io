{{- define "main" -}}

{{/* Use Hugo Blox's default page header */}}
{{ partial "page_header" . }}

<div class="universal-wrapper">
  <div class="row">
    <div class="col-lg-12">
      
      {{/* Group publications by year */}}
      {{- $publications := where site.RegularPages "Type" "publication" -}}
      {{- $publications = $publications.GroupByDate "2006" "desc" -}}

      {{- range $publications -}}
        <div class="year-section">
          <h2 class="year-title">{{ .Key }}</h2>
          
          {{/* Use Hugo Blox's citation view for each publication */}}
          <div class="view-list-item">
            {{- range .Pages -}}
              {{ partial "li_citation" . }}
            {{- end -}}
          </div>
        </div>
      {{- end -}}
      
    </div>
  </div>
</div>

<style>
.year-section {
  margin-bottom: 2rem;
}

.year-title {
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid rgba(0,0,0,.125);
}
</style>

{{- end -}} 