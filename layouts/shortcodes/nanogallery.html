{{ $nanogallery2_settings := resources.Get "ng2_gallery_compact.json" | transform.Unmarshal | jsonify}}

<div data-nanogallery2="{{$nanogallery2_settings}}">
    {{ range $index, $image := sort (resources.Match (.Get "directory")) }}
    {{ $.Scratch.Set "thumbnail" ($image.Resize "x800 q90") }}
    {{ $imageName := (path.Split $image.Name).File }}
    {{ $customLabel := .Get (printf "label_%s" $imageName) | default $imageName }}
    <a href="{{ $image.RelPermalink }}" data-ngthumb="{{ ($.Scratch.Get "thumbnail").RelPermalink }}">{{ $customLabel }}</a>
    {{ end }}
</div>
